{% import '_macros/badge.html.twig' as badge %}
{% import '_macros/profile.html.twig' as profiles %}
<div class="bg-gray-200/85 dark:bg-gray-900/85 rounded-lg shadow-md hover:shadow-2xl hover:scale-105 transition duration-300 ease-in-out p-4 relative">
    <div class="flex items-center pb-2">
        <div class="relative left-1/2 top-1/2 lg:top-1/3 -translate-x-1/2 w-48 h-48 lg:w-32 lg:h-32 rounded-full overflow-hidden">
            {{ profiles.avatar(user) }}
        </div>
    </div>
    <div class="mb-2">
        <h2 class="text-lg font-semibold text-gray-900 dark:text-neutral-200 mb-2">{{ user.username }}</h2>
        <div class="text-sm text-gray-500 dark:text-gray-400 pb-3">
            {{ badge.badge(user.roles|join(', '), 'user_role') }}
        </div>
    </div>
    <div class="my-4 text-left">
        <span class="text-sm font-semibold text-gray-900 dark:text-neutral-200">Group: {{ badge.badge(user.group.name, 'user_group') }}</span>
        <p class="text-sm font-semibold text-gray-900 dark:text-neutral-200">Email: <span class="text-gray-600 dark:text-gray-400">{{ user.email }}</span></p>
        <p class="text-sm font-semibold text-gray-900 dark:text-neutral-200">Status: <span class="inline-flex items-center text-gray-600 dark:text-gray-400">{{ user.isVerified ? 'Verified' : 'Not Verified' }} {{ profiles.badge(user) }}</span></p>
    </div>
        <div class="mt-4 flex justify-between">
            <a class="bg-blue-500 hover:bg-blue-700 text-white py-1 px-2 rounded inline-flex items-center" href="{{ path('app_settings_ban_user', { 'id': user.id }) }}">
                {{ ux_icon('lucide:edit', { class: 'w-5 h-5 mr-2 overflow-visible text-white' }) }}
                <span>Edit</span>
            </a>
            {% if 'ROLE_ADMIN' not in user.roles %}
                {% if not user.isBanned %}
                    <a class="bg-red-500 hover:bg-red-700 text-white py-1 px-2 rounded inline-flex items-center" href="{{ path('app_settings_ban_user', { 'id': user.id }) }}">
                        {{ ux_icon('ion:hammer-outline', { class: 'w-5 h-5 mr-2 overflow-visible text-white' }) }}
                        <span>Ban</span>
                    </a>
                {% else %}
                    <a class="bg-green-500 hover:bg-green-700 text-white py-1 px-2 rounded inline-flex items-center" href="{{ path('app_settings_unban_user', { 'id': user.id }) }}">
                        {{ ux_icon('ion:hammer-outline', { class: 'w-5 h-5 mr-2 overflow-visible text-white' }) }}
                        <span>Unban</span>
                    </a>
                {% endif %}
        {% endif %}
    </div>
</div>
