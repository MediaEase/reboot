{% import '_macros/table_of_contents.html.twig' as sidebar %}
{% set sidebarStructure = {
    'System': {
    	'app_settings_general': 'General',
		'app_settings_access_groups_index': 'Access Groups',
        'app_settings_system_smtp': 'SMTP',
		'app_settings_system_php': 'PHP',
        'app_settings_system_help': 'Help',
        'app_settings_system_subdomains': 'Subdomains',
    }
} %}

{% set externalLinks = {
    'app_settings_system_help': true,
} %}

<div class="hidden rounded-xl bg-gray-200/85 dark:bg-gray-900/85 hover:shadow-xl settings-sidebar xl:block fixed z-20 inset-0 top-[3.8125rem] w-[16rem]">
	<nav id="nav" class="lg:text-sm text-left text-2xl lg:leading-6 relative">
		{{ sidebar.render_sidebar(sidebarStructure, externalLinks) }}
	</nav>
</div>
<div class="xl:hidden hover:shadow-xl mobile-breadcrumb z-30 w-[16rem] bg-gray-200/85 dark:bg-gray-900/85 border-gray-500 border-y border-b dark:border-gray-300 text-slate-900 tracking-tight dark:text-slate-200 text-lg">
	<div class="px-4 py-3 text-3xl flex items-center justify-between">
		<div class="flex items-center">
			<button id="menu-btn" type="button" class="text-slate-500 hover:text-slate-600 dark:text-slate-400 dark:hover:text-slate-300 mr-4">
				<span class="sr-only">Navigation</span>
				{{ ux_icon('heroicons:bars-3', { class: 'w-10 h-10 mx-3 overflow-visible text-slate-400' }) }}
			</button>
			<ol class="flex leading-6 whitespace-nowrap min-w-0">
				<li class="flex items-center text-sky-500 dark:text-sky-400">Settings
					{{ ux_icon('flowbite:chevron-right-outline', { class: 'w-10 h-10 mx-3 overflow-visible text-slate-400' }) }}
				</li>
				<li class="font-semibold text-slate-900 mt-2 truncate dark:text-slate-200">General</li>
			</ol>
		</div>
	</div>
</div>
<div id="menu-overlay" class="hidden fixed z-30 top-0 h-screen inset-0 bg-black/20 backdrop-blur-sm dark:bg-slate-900/80" style="filter: blur(4px);" onclick="closeMobileMenu();"></div>
<div id="mobile-menu" class="hidden w-2/3 fixed top-0 left-0 z-[100] h-full bg-white dark:bg-gray-800 overflow-y-auto pt-4 transition-transform duration-200 ease-in-out transform translate-x-full">
	<div class="flex justify-end pr-4">
		<button id="close-btn" class="text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-300" onclick="document.getElementById('sidebar').style.transform = 'translateX(-100%)';">
			<span class="sr-only">Close menu</span>
			{{ ux_icon('flowbite:x-outline', { class: 'w-12 h-12 mr-4' }) }}
		</button>
	</div>
	<nav id="nav" class="lg:text-sm text-3xl text-left lg:leading-6 relative pt-[5rem]">
		{{ sidebar.render_sidebar(sidebarStructure, externalLinks) }}
	</nav>
</div>
